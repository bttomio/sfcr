<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simulate Stock-Flow Consistent Models • sfcr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Simulate Stock-Flow Consistent Models">
<meta property="og:description" content="Simulate and explore stock-flow consistent models.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">sfcr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/sfcr.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/joaomacalos/sfcr/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="sfcr" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#sfcr" class="anchor"></a>sfcr</h1></div>
<!-- badges: start -->

<p>The goal of <code>sfcr</code> is to provide an intuitive and <code>tidy</code> way to estimate stock-flow consistent (SFC) models with R.</p>
<p>With <code>sfcr</code>, the models are written entirely with R using the standard R syntax. Furthermore, their output is a <code>tibble</code> that is easily manipulated with the <code>tidyverse</code> tools and plotted with <code>ggplot2</code>.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the development version from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"joaomacalos/sfcr"</span><span class="op">)</span></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>This is a basic example which shows you how to simulate the steady state of the “SIM” model from Godley and Lavoie (2007 ch. 3) and shock this model with an increase in government expenditures.</p>
<p>A more complete description of the <code><a href="reference/sfcr_sim.html">sfcr_sim()</a></code> and <code><a href="reference/sfcr_scenario.html">sfcr_scenario()</a></code> variables can be found at the <code><a href="articles/sfcr.html">vignette("sfcr")</a></code>.</p>
<p>The first step is to simulate the steady state of the model with the <code><a href="reference/sfcr_sim.html">sfcr_sim()</a></code> function:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/joaomacalos/sfcr">sfcr</a></span><span class="op">)</span>

<span class="va">eqs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  <span class="va">TX_s</span><span class="op">[</span><span class="va">t</span><span class="op">]</span> <span class="op">~</span> <span class="va">TX_d</span><span class="op">[</span><span class="va">t</span><span class="op">]</span>,
  <span class="va">YD</span><span class="op">[</span><span class="va">t</span><span class="op">]</span> <span class="op">~</span> <span class="va">W</span><span class="op">[</span><span class="va">t</span><span class="op">]</span> <span class="op">*</span> <span class="va">N_s</span><span class="op">[</span><span class="va">t</span><span class="op">]</span> <span class="op">-</span> <span class="va">TX_s</span><span class="op">[</span><span class="va">t</span><span class="op">]</span>,
  <span class="va">C_d</span><span class="op">[</span><span class="va">t</span><span class="op">]</span> <span class="op">~</span> <span class="va">alpha1</span> <span class="op">*</span> <span class="va">YD</span><span class="op">[</span><span class="va">t</span><span class="op">]</span> <span class="op">+</span> <span class="va">alpha2</span> <span class="op">*</span> <span class="va">H_h</span><span class="op">[</span><span class="va">t</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span>,
  <span class="va">H_h</span><span class="op">[</span><span class="va">t</span><span class="op">]</span> <span class="op">~</span> <span class="va">YD</span><span class="op">[</span><span class="va">t</span><span class="op">]</span> <span class="op">-</span> <span class="va">C_d</span><span class="op">[</span><span class="va">t</span><span class="op">]</span> <span class="op">+</span> <span class="va">H_h</span><span class="op">[</span><span class="va">t</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span>,
  <span class="va">N_s</span><span class="op">[</span><span class="va">t</span><span class="op">]</span> <span class="op">~</span> <span class="va">N_d</span><span class="op">[</span><span class="va">t</span><span class="op">]</span>,
  <span class="va">N_d</span><span class="op">[</span><span class="va">t</span><span class="op">]</span> <span class="op">~</span> <span class="va">Y</span><span class="op">[</span><span class="va">t</span><span class="op">]</span> <span class="op">/</span> <span class="va">W</span><span class="op">[</span><span class="va">t</span><span class="op">]</span>,
  <span class="va">C_s</span><span class="op">[</span><span class="va">t</span><span class="op">]</span> <span class="op">~</span> <span class="va">C_d</span><span class="op">[</span><span class="va">t</span><span class="op">]</span>,
  <span class="va">G_s</span><span class="op">[</span><span class="va">t</span><span class="op">]</span> <span class="op">~</span> <span class="va">G_d</span><span class="op">[</span><span class="va">t</span><span class="op">]</span>,
  <span class="va">Y</span><span class="op">[</span><span class="va">t</span><span class="op">]</span> <span class="op">~</span> <span class="va">C_s</span><span class="op">[</span><span class="va">t</span><span class="op">]</span> <span class="op">+</span> <span class="va">G_s</span><span class="op">[</span><span class="va">t</span><span class="op">]</span>,
  <span class="va">TX_d</span><span class="op">[</span><span class="va">t</span><span class="op">]</span> <span class="op">~</span> <span class="va">theta</span> <span class="op">*</span> <span class="va">W</span><span class="op">[</span><span class="va">t</span><span class="op">]</span> <span class="op">*</span> <span class="va">N_s</span><span class="op">[</span><span class="va">t</span><span class="op">]</span>,
  <span class="va">H_s</span><span class="op">[</span><span class="va">t</span><span class="op">]</span> <span class="op">~</span> <span class="va">G_d</span><span class="op">[</span><span class="va">t</span><span class="op">]</span> <span class="op">-</span> <span class="va">TX_d</span><span class="op">[</span><span class="va">t</span><span class="op">]</span> <span class="op">+</span> <span class="va">H_s</span><span class="op">[</span><span class="va">t</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span>
<span class="op">)</span>

<span class="va">exg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"G_d"</span> <span class="op">=</span> <span class="fl">20</span>, <span class="st">"W"</span> <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>

<span class="va">params</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"alpha1"</span> <span class="op">=</span> <span class="fl">0.6</span>, <span class="st">"alpha2"</span> <span class="op">=</span> <span class="fl">0.4</span>, <span class="st">"theta"</span> <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span>

<span class="va">sim_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sfcr_sim.html">sfcr_sim</a></span><span class="op">(</span>
  equations <span class="op">=</span> <span class="va">eqs</span>, 
  t <span class="op">=</span> <span class="fl">60</span>, 
  exogenous <span class="op">=</span> <span class="va">exg</span>, 
  parameters <span class="op">=</span> <span class="va">params</span>
  <span class="op">)</span>

<span class="va">sim_model</span>
<span class="co">#&gt; # A tibble: 60 x 17</span>
<span class="co">#&gt;        t  TX_s    YD   C_d   H_h   N_s   N_d   C_s   G_s     Y  TX_d   H_s   G_d</span>
<span class="co">#&gt;    &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt;  1     1  1      1     1     1     1     1     1       1   1    1      1       1</span>
<span class="co">#&gt;  2     2  7.85  31.4  19.2  13.2  39.2  39.2  19.2    20  39.2  7.85  13.2    20</span>
<span class="co">#&gt;  3     3  9.72  38.9  28.6  23.4  48.6  48.6  28.6    20  48.6  9.72  23.4    20</span>
<span class="co">#&gt;  4     4 11.3   45.2  36.5  32.1  56.5  56.5  36.5    20  56.5 11.3   32.1    20</span>
<span class="co">#&gt;  5     5 12.6   50.5  43.2  39.5  63.2  63.2  43.2    20  63.2 12.6   39.5    20</span>
<span class="co">#&gt;  6     6 13.8   55.1  48.8  45.7  68.8  68.8  48.8    20  68.8 13.8   45.7    20</span>
<span class="co">#&gt;  7     7 14.7   58.9  53.6  51.0  73.6  73.6  53.6    20  73.6 14.7   51.0    20</span>
<span class="co">#&gt;  8     8 15.5   62.1  57.7  55.5  77.7  77.7  57.7    20  77.7 15.5   55.5    20</span>
<span class="co">#&gt;  9     9 16.2   64.9  61.1  59.2  81.1  81.1  61.1    20  81.1 16.2   59.3    20</span>
<span class="co">#&gt; 10    10 16.8   67.2  64.0  62.4  84.0  84.0  64.0    20  84.0 16.8   62.4    20</span>
<span class="co">#&gt; # ... with 50 more rows, and 4 more variables: W &lt;dbl&gt;, alpha1 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   alpha2 &lt;dbl&gt;, theta &lt;dbl&gt;</span></pre></div>
<p>With the steady state values at hand, we can use the <code><a href="reference/sfcr_scenario.html">sfcr_scenario()</a></code> function to see what happens if we increase government expenditures (“G_d”) from 20 to 30:</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="va">shock</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"G_d"</span> <span class="op">=</span> <span class="fl">30</span><span class="op">)</span>

<span class="va">sim2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sfcr_scenario.html">sfcr_scenario</a></span><span class="op">(</span>
  steady_state <span class="op">=</span> <span class="va">sim_model</span>,
  equations <span class="op">=</span> <span class="va">eqs</span>, 
  t <span class="op">=</span> <span class="fl">60</span>, 
  exogenous <span class="op">=</span> <span class="va">exg</span>, 
  parameters <span class="op">=</span> <span class="va">params</span>, 
  shock_exg <span class="op">=</span> <span class="va">shock</span>
  <span class="op">)</span>

<span class="va">sim2</span>
<span class="co">#&gt; # A tibble: 60 x 17</span>
<span class="co">#&gt;        t  TX_s    YD   C_d   H_h   N_s   N_d   C_s   G_s     Y  TX_d   H_s   G_d</span>
<span class="co">#&gt;    &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt;  1     1  20.0  80.0  80.0  80.0  100.  100.  80.0    20  100.  20.0  80.2    20</span>
<span class="co">#&gt;  2     2  20.0  80.0  80.0  80.0  100.  100.  80.0    20  100.  20.0  80.2    20</span>
<span class="co">#&gt;  3     3  20.0  80.0  80.0  80.0  100.  100.  80.0    20  100.  20.0  80.2    20</span>
<span class="co">#&gt;  4     4  20.0  80.0  80.0  80.0  100.  100.  80.0    20  100.  20.0  80.2    20</span>
<span class="co">#&gt;  5     5  20.0  80.0  80.0  80.0  100.  100.  80.0    20  100.  20.0  80.2    20</span>
<span class="co">#&gt;  6     6  23.8  95.4  89.2  86.1  119.  119.  89.2    30  119.  23.8  86.4    30</span>
<span class="co">#&gt;  7     7  24.8  99.2  94.0  91.4  124.  124.  94.0    30  124.  24.8  91.6    30</span>
<span class="co">#&gt;  8     8  25.6 102.   98.0  95.8  128.  128.  98.0    30  128.  25.6  96.0    30</span>
<span class="co">#&gt;  9     9  26.3 105.  101.   99.5  131.  131. 101.     30  131.  26.3  99.7    30</span>
<span class="co">#&gt; 10    10  26.8 107.  104.  103.   134.  134. 104.     30  134.  26.8 103.     30</span>
<span class="co">#&gt; # ... with 50 more rows, and 4 more variables: W &lt;dbl&gt;, alpha1 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   alpha2 &lt;dbl&gt;, theta &lt;dbl&gt;</span></pre></div>
<p>The output is a <code>tibble</code> that can be easily manipulated and plotted with the <code>tidyverse</code> packages.</p>
<div id="references" class="section level3">
<h3 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h3>
<div id="refs" class="references hanging-indent">
<div id="ref-godley2007monetary">
<p>Godley, Wynne, and Marc Lavoie. 2007. <em>Monetary Economics: An Integrated Approach to Credit, Money, Income, Production and Wealth</em>. Palgrave Macmillan.</p>
</div>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/joaomacalos/sfcr/">https://​github.com/​joaomacalos/​sfcr/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/joaomacalos/sfcr/issues">https://​github.com/​joaomacalos/​sfcr/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Joao Pedro Macalos <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/https://orcid.org/0000-0001-6050-6394" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.com/joaomacalos/sfcr"><img src="https://travis-ci.com/joaomacalos/sfcr.svg?branch=master" alt="Travis build status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Joao Pedro Macalos.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
